{% extends "base.html" %}

{% block content %}
<h1>Список пользователей</h1>

<!-- КНОПКА ДОБАВЛЕНИЯ -->
<div><a href="/users/add">Добавить пользователя</a></div>

<!-- ТАБЛИЦА ПОЛЬЗОВАТЕЛЕЙ -->
<table border="1" cellpadding="10">
    <thead>
    <tr>
        <th>ID: </th>
        <th>Имя пользователя: </th>
        <th>Количество книг: </th>
        <th>Действия: </th>
    </tr>
    </thead>
    <tbody>
    {% if users %}  <!-- Если есть пользователи -->
    {% for user in users %}
    <tr>
        <td>{{ user.id }}</td>
        <td>
            <a href="/users/{{ user.id }}">{{ user.name }}</a>
        </td>
        <td>{{ user.books_count }}</td>
        <td>
            <!-- ССЫЛКИ-ДЕЙСТВИЯ -->
            <a href="/users/{{ user.id }}/books">Книги</a> |
            <a href="/users/{{ user.id }}/edit">Редактировать</a> |
            <a href="/users/{{ user.id }}/delete" onclick="return confirm('Удалить?')">Удалить</a>
        </td>
    </tr>
    {% endfor %}
    {% else %}  <!-- Если пользователей нет -->
    <tr>
        <td colspan="4">
            Пользователи не найдены.
        </td>
    </tr>
    {% endif %}
    </tbody>
</table>
{% endblock %}